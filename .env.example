# ==========================================
# Database Configuration (REQUIRED)
# ==========================================
# Connection string for PostgreSQL.
# Format: postgres://user:password@host:port/database_name
DATABASE_URL=postgres://postgres:postgres@localhost:5432/compliance_relayer

# ==========================================
# Blockchain Configuration
# ==========================================
# The RPC Endpoint.
# - Production: Use Helius, QuickNode, Alchemy (e.g., https://mainnet.helius-rpc.com/?api-key=...)
# - Development: https://api.devnet.solana.com
SOLANA_RPC_URL=https://api.devnet.solana.com

# Base58 private key of the wallet that will pay for transactions.
# WARNING: Do NOT use a wallet with significant funds in dev/test environments.
# If left empty or invalid, the app generates a random ephemeral key (funds will be lost on restart).
ISSUER_PRIVATE_KEY=YOUR_BASE58_ENCODED_PRIVATE_KEY_HERE

# ==========================================
# Compliance Configuration (Range Protocol)
# ==========================================
# API Key for Range Protocol (Risk/Sanctions screening).
# - If SET: Real compliance checks are performed via Range API.
# - If EMPTY or MISSING: App runs in MOCK MODE (accepts all, blocks specific test addresses).
RANGE_API_KEY=

# Optional: Override Range API URL (default is https://api.range.org/v1)
# Leave commented unless you have a specific enterprise endpoint.
# RANGE_API_URL=https://api.range.org/v1

# ==========================================
# Server Configuration
# ==========================================
# Interface to bind to. 0.0.0.0 allows external access (docker), 127.0.0.1 is local only.
HOST=0.0.0.0
PORT=3000

# ==========================================
# Rate Limiting (DoS Protection)
# ==========================================
# Enable Governor rate limiting middleware? (true/false)
ENABLE_RATE_LIMITING=true

# Requests Per Second allowed per IP (approximate)
RATE_LIMIT_RPS=10

# Burst size (how many requests can be sent at once before throttling)
RATE_LIMIT_BURST=20

# ==========================================
# Background Worker
# ==========================================
# Enables the process that retries failed blockchain submissions.
# Recommended: true for production/staging.
ENABLE_BACKGROUND_WORKER=true

# ==========================================
# Observability
# ==========================================
# Logging levels.
# standard: info
# verbose: debug
# quiet sql: sqlx=warn (prevents logging every single SQL query)
RUST_LOG=info,tower_http=debug,sqlx=warn

# ==========================================
# CORS Configuration
# ==========================================
# Comma-separated list of allowed origins for CORS.
# Default: https://solana-compliance-relayer-frontend.berektassuly.com
# localhost:3000 and localhost:3001 are always allowed for development.
CORS_ALLOWED_ORIGINS=https://solana-compliance-relayer-frontend.berektassuly.com